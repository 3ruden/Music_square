<div class="form-horizontal" role="form">
  <h2>アーティスト掲示板検索</h2>
  <%= form_with url: artist_boards_path, method: :get, local: true do |form| %>
  <div class="col-3">
    <%= form.text_field :artists, class:"form-control mr-sm-2 form-inline md-form mr-auto mb-4", placeholder:"アーティスト名検索" %>
  </div>
  <%= form.label :category, "ジャンル" %>
  <%= form.select("category_id", Category.pluck(:name, :id), { include_blank: true }) %>
  <%= form.submit '絞り込み検索', name: nil, class:"btn blue-gradient btn-rounded btn-sm my-0" %>
  <% end %>

  <form class="form-inline md-form mr-auto mb-4">
    <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
    <button class="btn aqua-gradient btn-rounded btn-sm my-0" type="submit">Search</button>
  </form>

  <%= link_to 'イベント一覧へ', events_path %>
  <%= link_to 'ユーザー一覧へ', users_path %>
</div>

  <h2>アーティスト一覧</h2>
  <table>
    <thead>
      <tr>
        <th>アイコン</th>
        <th>アーティスト名</th>
        <th>説明</th>
        <th>ジャンル</th>
      </tr>
    </thead>

  <tbody>
    <% @artistboards.each do |artistboard| %>
      <tr>
        <td>
        <%= link_to artist_board_path(artistboard.artists) do %>
        <% if artistboard.icon? %>
        <%= image_tag "#{artistboard.icon}", :size =>'50x50' %>
        <% else %>
        <%= image_tag 'default.jpg', :size =>'50x50' %>
        <% end %>
        <% end %>
        </td>
        <td><%= artistboard.artists %></td>
        <td><%= artistboard.profiles %></td>
        <td>
            <% artistboard.categories.each do |category| %>
            <%= category.name %>
            <% end %>
        </td>

        <%# 管理人のみに設定する %>
        <td><%= link_to '編集', edit_artist_board_path(artistboard.artists) %></td>
        <td><%= link_to '削除', artistboard, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>

<br>

<%= link_to '検索して新規作成', search_artist_boards_path %>

<%= paginate @artistboards %>
